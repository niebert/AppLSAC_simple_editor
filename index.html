<!DOCTYPE html>
<html >
<head>

  <meta charset="UTF-8">
  <!-- HTML File Content EditorApp - generated 2019/10/19 9:55:26 -->

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="jsoneditor4menu" content="https://niehausbert.gitlab.io/jsoneditor4menu">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EditorApp - WebApp</title>
  <!-- generated CSS files by jsoneditor4menu -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/jquery-ui.css">
  <link rel="stylesheet" href="css/menu.css">
  <link rel="stylesheet" href="css/pages.css">
<!-- generated script tags for 'settings.jsfiles' -->
    <!-- js/jquery-3.2.0.js is generated by JSONEditor4Menu -->
  <script src="js/jquery-3.2.0.js"></script>
    <!-- js/printcode.js is generated by JSONEditor4Menu -->
  <script src="js/printcode.js"></script>
    <!-- js/menu.js is generated by JSONEditor4Menu -->
  <script src="js/menu.js"></script>
    <!-- js/loadfile4dom.js is generated by JSONEditor4Menu -->
  <script src="js/loadfile4dom.js"></script>
    <!-- js/filesaver.js is generated by JSONEditor4Menu -->
  <script src="js/filesaver.js"></script>


</head>

<body onload="lf4d.create()">

    <div class="wrapper">
        <nav class="site-nav">
            <h1 class="logo">AppLSAC<span> Editor</span></h1>

            <div class="menu-toggle">
              <div class="hamburger"></div>
            </div>

            <ul class="open desktop">
                <!-- Menu Item 'Load' - type: jscall - visibility: visible -->
                <li><a href="#!" onclick="app.nav.evt.load()"><img class="menu-icon" src="img/icons-svg/fa-folder-open-white.svg"><div class="nav-text site-nav--icon">Load</div></a></li>
                <!-- Menu Item 'Save' - type: jscall - visibility: visible -->
                <li><a href="#!" onclick="app.nav.evt.save()"><img class="menu-icon" src="img/icons-svg/fa-file-save-white.svg"><div class="nav-text site-nav--icon">Save</div></a></li>
                <!-- Menu Item 'Edit' - type: page - visibility: visible -->
                <li><a href="#!" onclick="app.nav.page('edit')"><img class="menu-icon" src="img/icons-svg/edit-white.svg"><div class="nav-text site-nav--icon">Edit</div></a></li>
                <!-- Menu Item 'Delete' - type: page - visibility: visible -->
                <li><a href="#!" onclick="app.nav.page('delete')"><img class="menu-icon" src="img/icons-svg/fa-trash-white.svg"><div class="nav-text site-nav--icon">Delete</div></a></li>
                <!-- Menu Item 'Print' - type: page - visibility: visible -->
                <li><a href="#!" onclick="app.nav.page('print')"><img class="menu-icon" src="img/icons-svg/fa-print-white.svg"><div class="nav-text site-nav--icon">Print</div></a></li>
                <!-- Menu Item 'Settings' - type: page - visibility: visible -->
                <li><a href="#!" onclick="app.nav.page('settings')"><img class="menu-icon" src="img/icons-svg/gear-white.svg"><div class="nav-text site-nav--icon">Settings</div></a></li>
                <!-- Menu Item 'About' - type: page - visibility: visible -->
                <li><a href="#!" onclick="app.nav.page('about')"><img class="menu-icon" src="img/icons-svg/info-white.svg"><div class="nav-text site-nav--icon">About</div></a></li>
            </ul>
        </nav>
    </div>
    <div class="area" data-role="page-container" id="page-container" currentpage="home">
      <div class="pages-app" data-role="page" id="edit">
        <h2>Edit</h2>
			    <center>
			    	<div style="float:center;width:90%;">
			    		<textarea id="app_editor" style="width:100%;height:100%" rows="20" ></textarea>
			    	</div>
			    </center>

      </div>
      <div class="pages-app" data-role="page" id="delete">
        <h2>Delete</h2>
			    <!-- This is the page content of the menu item 'Delete' of type 'page' -->
			    <input type='button' value='Clear Content' onclick="document.getElementById('app_editor').value='';app.nav.page('edit');">

      </div>
      <div class="pages-app" data-role="page" id="print">
        <h2>Print</h2>
			    <!-- This is the page content of the menu item 'Print' of type 'page' -->
			    <button onclick="previewTextArea('app_editor');return false">Print Preview</button> - <button onclick="printTextArea('app_editor');return false">Print</button>

      </div>
      <div class="pages-app" data-role="page" id="settings">
        <h2>Settings</h2>
			    <!-- This is the page content of the menu item 'Settings' of type 'page' -->
			    <b>Filename:</b> <input type='text' id='tFilename' value='myfilename.txt'>

      </div>
      <div class="pages-app" data-role="page" id="about">
        <h2>About</h2>
			    <h3>
			       EditorApp - AppLSAC
			    </h3>
			    <h4>
			        Editor
			    </h4>
			    
			    This is a simple text editor with Load, Save and Print features running completely in the browser without submission of loaded data to remote servers.
			    <hr>
			    This is an <a href='https://en.wikiversity.org/wiki/AppLSAC' target='_blank'>AppLSAC</a>. The application was create with <a href='https://niehausbert.gitlab.io/jsoneditor4menu' target='_blank'>JSONEditor4Menu</a>. See also <a href='https://www.gitlab.com/niehausbert/jsoneditor4menu' target='_blank'>GitLab repository for source code</a> of JSONEditor4Menu
			    <hr>
			    <center>Created 2019/09/24 19:39:29<br>last modified 2019/10/19 9:55:26</center>

      </div>
    </div>

  <script>
    // Config Code is defined in settings.configcode by JSONEditor4Menu

		// BEGIN: init code for menu item Load 
		<!-- Init code for Loader -->
		var lf4d = new LoadFile4DOM();
		var options = {
		          "debug": false // if true, it will show the hidden <input type="file" ...> loaders in DOM
		        };
		        lf4d.init(document,options);
		        //-----------------------------------------------
		        //----- Create a new Loader "txtfile" -----------
		        //-----------------------------------------------
		        // with MIME type filter use type="text"
		        //var txtfile = lf4d.get_loader_options("mytxtfile","text");
		
		        // if arbitray files are allowed use type="all"
		        var txtfile = lf4d.get_loader_options("mytxtfile","text");
		        // Define what to do with the loaded data
		        txtfile.returntype = "file"; // data contains the file
		        console.log("txtfile: "+JSON.stringify(txtfile));
		        txtfile.onload = function (data,err) {
		          if (err) {
		            // do something on error, perr contains error message
		            console.error(err);
		            alert("ERROR: "+err)
		          } else {
		            // do something with the file content in data e.g. store  in a HTML textarea (e.g. <textarea id="mytextarea" ...>
		            console.log("CALL: txtfile.onload()");
		            document.getElementById("app_editor").value = data;
		            app.nav.page('edit');
		          }
		        };
		        // create the loader txtfile
		        lf4d.create_load_dialog(txtfile);
		        //-----------------------------------------------
		
		// END: init code for menu item Load 


		// BEGIN: init code for menu item Save 
		<!-- Init code for Save -->
		function saveFile2HDD(pFilename,pContent) {
			var file = new File([pContent], {type: "text/plain;charset=utf-8"});
			saveAs(file,pFilename);
			app.nav.page('edit');
			};
		
		// END: init code for menu item Save 


      //--- init pages ----
      app.nav.page("edit");
      
      //--- Assign Toggle Menu Function ----
      $('.menu-toggle').click(app.nav.menu.toggle);
      
      // the configuration code can be used to create some constants, local functions or initialize some javascript objects.
      
  </script>
</body>
</html>
